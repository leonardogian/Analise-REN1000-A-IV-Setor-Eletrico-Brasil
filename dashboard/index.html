<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard â€” AnÃ¡lise REN 1000/2021 ANEEL</title>
  <meta name="description"
    content="Dashboard interativo para anÃ¡lise de eficÃ¡cia da ResoluÃ§Ã£o Normativa ANEEL nÂº 1.000/2021 na qualidade comercial das distribuidoras de energia." />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap"
    rel="stylesheet" />

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7/dist/chart.umd.min.js"></script>

  <!-- Stylesheet -->
  <link rel="stylesheet" href="styles.css" />
</head>

<body>

  <div class="bg-grid"></div>

  <div class="app-wrapper">

    <!-- ==================== HEADER ==================== -->
    <header class="header">
      <div class="header-content">
        <div>
          <h1>âš¡ AnÃ¡lise REN 1000/2021 â€” ANEEL</h1>
          <p class="header-subtitle">Qualidade comercial das distribuidoras de energia â€” Prazos, transgressÃµes e
            compensaÃ§Ãµes</p>
        </div>
        <span class="header-badge">
          <span class="dot"></span>
          Atualizado: <span id="gen-time">â€”</span>
        </span>
      </div>
    </header>

    <!-- ==================== LOADING ==================== -->
    <div id="loading" class="loading-screen">
      <div class="loading-spinner"></div>
      <p class="loading-text">Carregando dados...</p>
    </div>

    <!-- ==================== DASHBOARD CONTENT ==================== -->
    <div id="dashboard-content" class="dashboard-content">

      <!-- Navigation -->
      <nav class="nav-tabs">
        <button class="nav-tab active" data-tab="tab-overview">
          <span class="tab-icon">ğŸ“Š</span> VisÃ£o Geral
        </button>
        <button class="nav-tab" data-tab="tab-neoenergia">
          <span class="tab-icon">ğŸ¢</span> Neoenergia
        </button>
        <button class="nav-tab" data-tab="tab-regulatory">
          <span class="tab-icon">ğŸ“ˆ</span> AnÃ¡lise RegulatÃ³ria
        </button>
        <button class="nav-tab" data-tab="tab-diagnostico">
          <span class="tab-icon">ğŸ”</span> DiagnÃ³stico Detalhado
        </button>
        <a href="relatorio.html" class="nav-tab nav-tab-link">
          <span class="tab-icon">ğŸ“„</span> RelatÃ³rio
        </a>
        <button class="theme-toggle-btn" id="theme-toggle" onclick="toggleTheme()" title="Alternar Tema">
          <span class="icon">ğŸŒ™</span>
        </button>
      </nav>

      <!-- ============ TAB 1: VISÃƒO GERAL ============ -->
      <section id="tab-overview" class="tab-panel active">

        <h2 class="section-title"><span class="icon">ğŸ“Š</span> Impacto da REN 1000 â€” PrÃ© vs PÃ³s 2022</h2>
        <p class="section-description">
          ComparaÃ§Ã£o dos indicadores de qualidade comercial antes e depois da vigÃªncia da
          ResoluÃ§Ã£o Normativa ANEEL nÂº 1.000/2021, que consolidou as regras de distribuiÃ§Ã£o de energia.
        </p>

        <!-- KPI Row -->
        <div class="kpi-grid">
          <div class="kpi-card blue">
            <div class="kpi-label">Taxa Fora do Prazo (PrÃ©-2022)</div>
            <div class="kpi-value blue" id="kpi-taxa-pre">â€”</div>
            <div class="kpi-label kpi-note">MÃ©dia anual (REN 414)</div>
          </div>
          <div class="kpi-card cyan">
            <div class="kpi-label">Taxa Fora do Prazo (PÃ³s-2022)</div>
            <div class="kpi-value cyan" id="kpi-taxa-pos">â€”</div>
            <div id="kpi-taxa-delta" class="kpi-delta">â€”</div>
          </div>
          <div class="kpi-card amber">
            <div class="kpi-label">CompensaÃ§Ã£o Total (PrÃ©-2022)</div>
            <div class="kpi-value amber" id="kpi-comp-pre">â€”</div>
            <div class="kpi-label kpi-note">2011â€“2021</div>
          </div>
          <div class="kpi-card green">
            <div class="kpi-label">CompensaÃ§Ã£o Total (PÃ³s-2022)</div>
            <div class="kpi-value green" id="kpi-comp-pos">â€”</div>
            <div id="kpi-comp-delta" class="kpi-delta">â€”</div>
          </div>
          <div class="kpi-card purple">
            <div class="kpi-label">Total de ServiÃ§os Analisados</div>
            <div class="kpi-value purple" id="kpi-serv-total">â€”</div>
            <div class="kpi-label kpi-note">2011â€“2023</div>
          </div>
          <div class="kpi-card red">
            <div class="kpi-label">Total Fora do Prazo</div>
            <div class="kpi-value red" id="kpi-fora-total">â€”</div>
            <div class="kpi-label kpi-note">TransgressÃµes acumuladas</div>
          </div>
        </div>

        <!-- Insights -->
        <div class="insight-grid">
          <div class="insight-card">
            <span class="insight-icon">ğŸ“‰</span>
            <div class="insight-text">
              A <strong>taxa de transgressÃµes caiu</strong> apÃ³s a REN 1000, indicando melhoria na prestaÃ§Ã£o dos
              serviÃ§os
              comerciais dentro do prazo regulamentar.
            </div>
          </div>
          <div class="insight-card">
            <span class="insight-icon">ğŸ’°</span>
            <div class="insight-text">
              A <strong>compensaÃ§Ã£o financeira tambÃ©m diminuiu</strong>, mas Ã© preciso observar que os anos pÃ³s-2022
              ainda estÃ£o em consolidaÃ§Ã£o.
            </div>
          </div>
        </div>

        <!-- Charts -->
        <div class="chart-grid two-col">
          <div class="chart-card">
            <div class="chart-header">
              <div>
                <div class="chart-title">Taxa Fora do Prazo â€” SÃ©rie Anual</div>
                <div class="chart-subtitle">Linha tracejada marca a vigÃªncia da REN 1000 (2022)</div>
              </div>
              <span class="chart-tag">2011â€“2023</span>
            </div>
            <div class="chart-canvas-wrapper">
              <canvas id="chart-serie-taxa"></canvas>
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-header">
              <div>
                <div class="chart-title">CompensaÃ§Ãµes Financeiras â€” SÃ©rie Anual</div>
                <div class="chart-subtitle">Valor total pago em compensaÃ§Ãµes aos consumidores</div>
              </div>
              <span class="chart-tag">R$</span>
            </div>
            <div class="chart-canvas-wrapper">
              <canvas id="chart-serie-comp"></canvas>
            </div>
          </div>
        </div>
      </section>

      <!-- ============ TAB 2: NEOENERGIA ============ -->
      <section id="tab-neoenergia" class="tab-panel">

        <h2 class="section-title"><span class="icon">ğŸ¢</span> Benchmark Neoenergia â€” 5 Distribuidoras</h2>
        <p class="section-description">
          AnÃ¡lise comparativa das 5 distribuidoras do grupo Neoenergia: Coelba, Pernambuco, Cosern, Elektro e BrasÃ­lia.
          MÃ©tricas normalizadas por unidades consumidoras (UC) para comparaÃ§Ã£o justa por porte.
        </p>

        <div class="chart-grid two-col">
          <div class="chart-card">
            <div class="chart-header">
              <div>
                <div class="chart-title">TransgressÃµes por 100k UC-mÃªs</div>
                <div class="chart-subtitle">Normalizado pelo porte da distribuidora</div>
              </div>
              <span class="chart-tag">2023â€“2025</span>
            </div>
            <div class="chart-canvas-wrapper">
              <canvas id="chart-neo-fora"></canvas>
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-header">
              <div>
                <div class="chart-title">CompensaÃ§Ã£o R$ por UC-mÃªs</div>
                <div class="chart-subtitle">Impacto financeiro normalizado</div>
              </div>
              <span class="chart-tag">R$ / UC</span>
            </div>
            <div class="chart-canvas-wrapper">
              <canvas id="chart-neo-comp"></canvas>
            </div>
          </div>
        </div>

        <div class="chart-grid two-col">
          <div class="chart-card">
            <div class="chart-header">
              <div>
                <div class="chart-title">Radar de Benchmark â€” Ãšltimo Ano</div>
                <div class="chart-subtitle">ComparaÃ§Ã£o multidimensional â€” valores em escala relativa</div>
              </div>
              <span class="chart-tag">2025</span>
            </div>
            <div class="chart-canvas-wrapper chart-canvas-wrapper-tall">
              <canvas id="chart-neo-radar"></canvas>
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-header">
              <div>
                <div class="chart-title">TendÃªncia 2023 â†’ 2025</div>
                <div class="chart-subtitle">VariaÃ§Ã£o percentual entre os perÃ­odos</div>
              </div>
            </div>
            <div class="data-table-wrapper">
              <table class="data-table">
                <thead>
                  <tr>
                    <th>Distribuidora</th>
                    <th>Fora/100k UC 2023</th>
                    <th>Fora/100k UC 2025</th>
                    <th>VariaÃ§Ã£o</th>
                    <th>Taxa 2023</th>
                    <th>Taxa 2025</th>
                  </tr>
                </thead>
                <tbody id="trend-table-body"></tbody>
              </table>
            </div>
          </div>
        </div>
      </section>

      <!-- ============ TAB 3: ANÃLISE REGULATÃ“RIA ============ -->
      <section id="tab-regulatory" class="tab-panel">

        <h2 class="section-title"><span class="icon">ğŸ“ˆ</span> AnÃ¡lise RegulatÃ³ria Mensal â€” Neoenergia</h2>
        <p class="section-description">
          SÃ©rie temporal mensal das 5 distribuidoras Neoenergia, com taxa de transgressÃ£o e compensaÃ§Ã£o financeira.
          Permite identificar sazonalidade e tendÃªncias de curto prazo.
        </p>

        <div class="chart-grid">
          <div class="chart-card">
            <div class="chart-header">
              <div>
                <div class="chart-title">Taxa Fora do Prazo â€” Mensal</div>
                <div class="chart-subtitle">EvoluÃ§Ã£o mensal por distribuidora (2023â€“2025)</div>
              </div>
              <span class="chart-tag">Mensal</span>
            </div>
            <div class="chart-canvas-wrapper chart-canvas-wrapper-tall">
              <canvas id="chart-reg-mensal"></canvas>
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-header">
              <div>
                <div class="chart-title">CompensaÃ§Ã£o Financeira â€” Mensal (Empilhado)</div>
                <div class="chart-subtitle">Volume financeiro por distribuidora ao longo do tempo</div>
              </div>
              <span class="chart-tag">R$ / mÃªs</span>
            </div>
            <div class="chart-canvas-wrapper chart-canvas-wrapper-tall">
              <canvas id="chart-reg-comp-mensal"></canvas>
            </div>
          </div>
        </div>
      </section>

      <!-- ============ TAB 4: DIAGNÃ“STICO DETALHADO ============ -->
      <section id="tab-diagnostico" class="tab-panel">

        <h2 class="section-title"><span class="icon">ğŸ”</span> DiagnÃ³stico Detalhado</h2>
        <p class="section-description">
          AnÃ¡lise por classe de consumo (urbana, rural, grupo A) e sÃ©rie longa 2011â€“2023
          para cada distribuidora Neoenergia.
        </p>

        <!-- Donuts -->
        <h3 class="subsection-title">
          ğŸ“Š DistribuiÃ§Ã£o das TransgressÃµes por Classe/LocalizaÃ§Ã£o (2023â€“2025)
        </h3>
        <div class="chart-grid chart-grid-compact">
          <div class="chart-card chart-card-compact">
            <div class="chart-title chart-title-compact">BrasÃ­lia</div>
            <div class="chart-canvas-wrapper chart-canvas-wrapper-small"><canvas id="chart-donut-0"></canvas></div>
          </div>
          <div class="chart-card chart-card-compact">
            <div class="chart-title chart-title-compact">Coelba</div>
            <div class="chart-canvas-wrapper chart-canvas-wrapper-small"><canvas id="chart-donut-1"></canvas></div>
          </div>
          <div class="chart-card chart-card-compact">
            <div class="chart-title chart-title-compact">Cosern</div>
            <div class="chart-canvas-wrapper chart-canvas-wrapper-small"><canvas id="chart-donut-2"></canvas></div>
          </div>
          <div class="chart-card chart-card-compact">
            <div class="chart-title chart-title-compact">Elektro</div>
            <div class="chart-canvas-wrapper chart-canvas-wrapper-small"><canvas id="chart-donut-3"></canvas></div>
          </div>
          <div class="chart-card chart-card-compact">
            <div class="chart-title chart-title-compact">Pernambuco</div>
            <div class="chart-canvas-wrapper chart-canvas-wrapper-small"><canvas id="chart-donut-4"></canvas></div>
          </div>
        </div>

        <!-- Serie longa -->
        <div class="chart-grid two-col section-spacing-top">
          <div class="chart-card">
            <div class="chart-header">
              <div>
                <div class="chart-title">SÃ©rie Longa 2011 â†’ 2023</div>
                <div class="chart-subtitle">EvoluÃ§Ã£o da taxa fora do prazo por distribuidora</div>
              </div>
              <span class="chart-tag">12 anos</span>
            </div>
            <div class="chart-canvas-wrapper">
              <canvas id="chart-longa-bar"></canvas>
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-header">
              <div>
                <div class="chart-title">Resumo da SÃ©rie Longa</div>
                <div class="chart-subtitle">VariaÃ§Ã£o da taxa fora do prazo entre 2011 e 2023</div>
              </div>
            </div>
            <div class="data-table-wrapper">
              <table class="data-table">
                <thead>
                  <tr>
                    <th>Distribuidora</th>
                    <th>Ano InÃ­cio</th>
                    <th>Ano Fim</th>
                    <th>Taxa InÃ­cio</th>
                    <th>Taxa Fim</th>
                    <th>VariaÃ§Ã£o</th>
                  </tr>
                </thead>
                <tbody id="longa-table-body"></tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- Insights -->
        <div class="insight-grid section-spacing-top-sm">
          <div class="insight-card">
            <span class="insight-icon">ğŸ†</span>
            <div class="insight-text">
              <strong>Neoenergia Elektro</strong> apresenta a menor pressÃ£o normalizada: apenas 2,00 transgressÃµes por
              100k UC-mÃªs.
            </div>
          </div>
          <div class="insight-card">
            <span class="insight-icon">âš ï¸</span>
            <div class="insight-text">
              <strong>Neoenergia Coelba</strong> lidera em pressÃ£o normalizada (28,39/100k UC-mÃªs), mas abrange o maior
              volume de consumidores.
            </div>
          </div>
          <div class="insight-card">
            <span class="insight-icon">ğŸ“‰</span>
            <div class="insight-text">
              <strong>4 de 5</strong> distribuidoras Neoenergia reduziram a taxa normalizada de transgressÃµes entre 2023
              e 2025 â€”
              destaque para Cosern (âˆ’74%) e Elektro (âˆ’73%).
            </div>
          </div>
        </div>
      </section>

    </div><!-- /dashboard-content -->

    <!-- ==================== FOOTER ==================== -->
    <footer class="footer">
      <p>
        TCC â€” AnÃ¡lise de EficÃ¡cia da REN 1000/2021 (ANEEL) &middot;
        Dados: <a href="https://dadosabertos.aneel.gov.br" target="_blank">dadosabertos.aneel.gov.br</a> &middot;
        Gerado automaticamente a partir dos dados processados
      </p>
    </footer>

  </div><!-- /app-wrapper -->

  <script src="app.js"></script>
</body>

</html>
